<?xml version="1.0" encoding="UTF-8"?>
<ciosmaps ciosgroupscount="1">
	<ciosgroup name="d2x-v${MAJOR_VER}-${MINOR_VER}" version="${IOS_REV}" basescount="3">
		<base ios="56" version="5918" contentscount="20" modulescount="5">
			<content id="0x0" patchscount="7">
				<!-- cIOS signature fields -->
				<patch offset="0x00" size="4"  originalbytes="0x66,0x69,0x72,0x6d" newbytes="0x1e,0xe7,0xc1,0x05"/>
				<patch offset="0x04" size="4"  originalbytes="0x77,0x61,0x72,0x65" newbytes="0x00,0x00,0x00,0x01"/>
				<patch offset="0x08" size="4"  originalbytes="0x2e,0x36,0x34,0x2e" newbytes="${HEX_MAJOR_VER}"/>
				<patch offset="0x0c" size="4"  originalbytes="0x31,0x32,0x30,0x34" newbytes="0x00,0x00,0x00,0x38"/>
				<patch offset="0x10" size="16" originalbytes="0x31,0x30,0x31,0x31,0x30,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00" newbytes="0x64,0x32,0x78,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00"/>
				<patch offset="0x20" size="16" originalbytes="0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x02,0x00,0x00" newbytes="${HEX_MINOR_VER}"/>
				<patch offset="0x30" size="16" originalbytes="0x61,0x64,0x6D,0x69,0x6E,0x40,0x46,0x57,0x50,0x55,0x42,0x4C,0x49,0x53,0x48,0x00" newbytes="0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00"/>
			</content>
			<content id="0x1" patchscount="2">
				<!-- Disable DI DVD Video commands -->
				<patch offset="0x6E5" size="1" originalbytes="0x01" newbytes="0x00"/>
				<patch offset="0x775" size="1" originalbytes="0x01" newbytes="0x00"/>
			</content>
			<content id="0x2" />
			<content id="0x3" />
			<content id="0x4" patchscount="1">
				<!-- Register alternative SDI module name without the initial slash -->
				<!--
					.code 32
				patched_os_device_register:
					push {lr} 
					push {r0-r1} 
					bl   os_device_register 
					pop  {r0-r1} 
					add  r0, r0, #1 
					bl   os_device_register 
					pop  {lr} 
					bx   lr 

				os_device_register:       // 0x1b is the syscall number
					.long 0xE6000010 + (0x1b << 5)
					bx lr
				-->
				<patch offset="0x2138" size="40" 
					originalbytes="0xE6,0x00,0x03,0x70,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0x90,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0xB0,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0xD0,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0xF0,0xE1,0x2F,0xFF,0x1E"
					newbytes     ="0xE9,0x2D,0x40,0x00,0xE9,0x2D,0x00,0x03,0xEB,0x00,0x00,0x04,0xE8,0xBD,0x00,0x03,0xE2,0x80,0x00,0x01,0xEB,0x00,0x00,0x01,0xE8,0xBD,0x40,0x00,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0x70,0xE1,0x2F,0xFF,0x1E"
				/>
			</content>
			<content id="0x5" />
			<content id="0x6" />
			<content id="0x7" />
			<content id="0x8" />
			<content id="0x9" />
			<content id="0xa" />
			<content id="0xb" />
			<content id="0xc" />
			<content id="0xd" />
			<content id="0xe" patchscount="1">
				<!-- Reroute IRQ9 to mload -->
				<patch offset="0x283B4" size="4" originalbytes="0xFF,0xFF,0x5D,0x52" newbytes="0x13,0x6D,0x00,0x11"/>
				<!-- Korean key check -->
<!--
				<patch offset="0x21424" size="1" originalbytes="0xD0" newbytes="0xE0"/>
-->
				<!-- Korean key -->
<!--
				<patch offset="0x29078" size="16" originalbytes="0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00" newbytes="0x63,0xB8,0x2B,0xB4,0xF4,0x61,0x4E,0x2E,0x13,0xF2,0xFE,0xFB,0xBA,0x4C,0x9B,0x7E"/>
-->
			</content>
			<content id="0x19" module="MLOAD" tmdmoduleid="-1"/>
			<content id="0x1a" module="EHCI" tmdmoduleid="3"/>
			<content id="0x1b" module="DIPP" tmdmoduleid="-1"/>
			<content id="0x1c" module="ES" tmdmoduleid="-1"/>
			<content id="0x1d" module="FFSP" tmdmoduleid="-1"/>
		</base>
		<base ios="57" version="6175" contentscount="24" modulescount="5">
			<content id="0x0" patchscount="7">
				<patch offset="0x00" size="4"  originalbytes="0x66,0x69,0x72,0x6d" newbytes="0x1e,0xe7,0xc1,0x05"/>
				<patch offset="0x04" size="4"  originalbytes="0x77,0x61,0x72,0x65" newbytes="0x00,0x00,0x00,0x01"/>
				<patch offset="0x08" size="4"  originalbytes="0x2e,0x36,0x34,0x2e" newbytes="${HEX_MAJOR_VER}"/>
				<patch offset="0x0c" size="4"  originalbytes="0x31,0x32,0x30,0x34" newbytes="0x00,0x00,0x00,0x39"/>
				<patch offset="0x10" size="16" originalbytes="0x31,0x30,0x31,0x30,0x34,0x37,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00" newbytes="0x64,0x32,0x78,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00"/>
				<patch offset="0x20" size="16" originalbytes="0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x02,0x00,0x00" newbytes="${HEX_MINOR_VER}"/>
				<patch offset="0x30" size="16" originalbytes="0x61,0x64,0x6d,0x69,0x6e,0x40,0x46,0x57,0x50,0x55,0x42,0x4c,0x49,0x53,0x48,0x00" newbytes="0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00"/>
			</content>
			<content id="0x1" patchscount="2">
				<!-- Disable DI DVD Video commands -->
				<patch offset="0x6E5" size="1" originalbytes="0x01" newbytes="0x00"/>
				<patch offset="0x775" size="1" originalbytes="0x01" newbytes="0x00"/>
			</content>
			<content id="0x2" />
			<content id="0x3" />
			<content id="0x4" patchscount="1">
				<!-- Register alternative SDI module name without the initial slash -->
				<patch offset="0x2138" size="40" 
					originalbytes="0xE6,0x00,0x03,0x70,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0x90,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0xB0,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0xD0,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0xF0,0xE1,0x2F,0xFF,0x1E"
					newbytes     ="0xE9,0x2D,0x40,0x00,0xE9,0x2D,0x00,0x03,0xEB,0x00,0x00,0x04,0xE8,0xBD,0x00,0x03,0xE2,0x80,0x00,0x01,0xEB,0x00,0x00,0x01,0xE8,0xBD,0x40,0x00,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0x70,0xE1,0x2F,0xFF,0x1E"
				/>
			</content>
			<content id="0x5" />
			<content id="0x6" />
			<content id="0x7" />
			<content id="0x8" />
			<content id="0x9" />
			<content id="0xa" />
			<content id="0xb" />
			<content id="0xc" />
			<content id="0xd" />
			<content id="0xe" />
			<content id="0xf" />
			<content id="0x10" />
			<content id="0x11" />
			<content id="0x12" patchscount="1">
				<!-- Reroute IRQ9 to mload -->
				<patch offset="0x283B4" size="4" originalbytes="0xFF,0xFF,0x5D,0x52" newbytes="0x13,0x6D,0x00,0x11"/>
				<!-- Korean key check -->
<!--
				<patch offset="0x21424" size="1" originalbytes="0xD0" newbytes="0xE0"/>
-->
				<!-- Korean key -->
<!--
				<patch offset="0x29078" size="16" originalbytes="0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00" newbytes="0x63,0xB8,0x2B,0xB4,0xF4,0x61,0x4E,0x2E,0x13,0xF2,0xFE,0xFB,0xBA,0x4C,0x9B,0x7E"/>
-->
			</content>
			<content id="0x1d" module="MLOAD" tmdmoduleid="-1"/>
			<content id="0x1e" module="EHCI" tmdmoduleid="2"/>
			<content id="0x1f" module="DIPP" tmdmoduleid="-1"/>
			<content id="0x20" module="ES" tmdmoduleid="-1"/>
			<content id="0x21" module="FFSP" tmdmoduleid="-1"/>
		</base>
		<base ios="58" version="6432" contentscount="24" modulescount="5">
			<content id="0x0" patchscount="7">
				<!-- cIOS signature fields -->
				<patch offset="0x00" size="4"  originalbytes="0x66,0x69,0x72,0x6d" newbytes="0x1e,0xe7,0xc1,0x05"/>
				<patch offset="0x04" size="4"  originalbytes="0x77,0x61,0x72,0x65" newbytes="0x00,0x00,0x00,0x01"/>
				<patch offset="0x08" size="4"  originalbytes="0x2e,0x36,0x34,0x2e" newbytes="${HEX_MAJOR_VER}"/>
				<patch offset="0x0c" size="4"  originalbytes="0x31,0x32,0x30,0x34" newbytes="0x00,0x00,0x00,0x3a"/>
				<patch offset="0x10" size="16" originalbytes="0x31,0x30,0x31,0x31,0x34,0x31,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00" newbytes="0x64,0x32,0x78,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00"/>
				<patch offset="0x20" size="16" originalbytes="0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x02,0x00,0x00" newbytes="${HEX_MINOR_VER}"/>
				<patch offset="0x30" size="16" originalbytes="0x61,0x64,0x6d,0x69,0x6e,0x40,0x46,0x57,0x50,0x55,0x42,0x4c,0x49,0x53,0x48,0x00" newbytes="0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00"/>
			</content>
			<content id="0x1" />
			<content id="0x2" patchscount="2">
				<!-- Disable DI DVD Video commands -->
				<patch offset="0x6E5" size="1" originalbytes="0x01" newbytes="0x00"/>
				<patch offset="0x775" size="1" originalbytes="0x01" newbytes="0x00"/>
			</content>
			<content id="0x3" />
			<content id="0x4" />
			<content id="0x5" patchscount="1">
				<!-- Register alternative SDI module name without the initial slash -->
				<patch offset="0x2138" size="40" 
					originalbytes="0xE6,0x00,0x03,0x70,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0x90,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0xB0,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0xD0,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0xF0,0xE1,0x2F,0xFF,0x1E"
					newbytes     ="0xE9,0x2D,0x40,0x00,0xE9,0x2D,0x00,0x03,0xEB,0x00,0x00,0x04,0xE8,0xBD,0x00,0x03,0xE2,0x80,0x00,0x01,0xEB,0x00,0x00,0x01,0xE8,0xBD,0x40,0x00,0xE1,0x2F,0xFF,0x1E,0xE6,0x00,0x03,0x70,0xE1,0x2F,0xFF,0x1E"
				/>
			</content>
			<content id="0x6" />
			<content id="0x7" />
			<content id="0x8" />
			<content id="0x9" />
			<content id="0xa" />
			<content id="0xb" />
			<content id="0xc" />
			<content id="0xd" />
			<content id="0xe" />
			<content id="0xf" />
			<content id="0x10" />
			<content id="0x11" />
			<content id="0x12" patchscount="1">
				<!-- Reroute IRQ9 to mload -->
				<patch offset="0x283B4" size="4" originalbytes="0xFF,0xFF,0x5D,0x52" newbytes="0x13,0x6D,0x00,0x11"/>
				<!-- Korean key check -->
<!--
				<patch offset="0x21424" size="1" originalbytes="0xD0" newbytes="0xE0"/>
-->
				<!-- Korean key -->
<!--
				<patch offset="0x29078" size="16" originalbytes="0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00" newbytes="0x63,0xB8,0x2B,0xB4,0xF4,0x61,0x4E,0x2E,0x13,0xF2,0xFE,0xFB,0xBA,0x4C,0x9B,0x7E"/>
-->
			</content>
			<content id="0x18" module="MLOAD" tmdmoduleid="-1"/>
			<!--content id="0x19" module="EHCI" tmdmoduleid="3"/-->
			<content id="0x19" module="USBS" tmdmoduleid="-1"/>
			<content id="0x1a" module="DIPP" tmdmoduleid="-1"/>
			<content id="0x1b" module="ES" tmdmoduleid="-1"/>
			<content id="0x1c" module="FFSP" tmdmoduleid="-1"/>
		</base>
	</ciosgroup>
</ciosmaps>